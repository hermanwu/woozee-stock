<app-title-menu>
  <div left-items class="inline-display">
    <h1>Trending</h1>

    <mat-chip-list class="chip-list" [multiple]="true" selectable>
      <mat-chip
        (click)="toggleChip(NoteType.Fact)"
        [selected]="chips.has(NoteType.Fact)"
        >Facts</mat-chip
      >
      <mat-chip
        (click)="toggleChip(NoteType.Opinion)"
        [selected]="chips.has(NoteType.Opinion)"
        >Opinions</mat-chip
      >
    </mat-chip-list>
  </div>

  <div right-items>
    <button mat-icon-button [matMenuTriggerFor]="newsMenu">
      <mat-icon>more_horiz</mat-icon>
    </button>

    <mat-menu #newsMenu="matMenu">
      <button
        mat-menu-item
        (click)="openDailyReportDialog()"
        [disabled]="environment.production"
      >
        Daily Report
      </button>
      <button mat-menu-item (click)="showTools = !showTools" disabled>
        <mat-icon>filter_alt</mat-icon>
      </button>
    </mat-menu>
  </div>
</app-title-menu>

<div *ngIf="showTools"></div>

<div class="news-card" *ngFor="let item of filteredNotes">
  <app-card>
    <app-title-menu>
      <div left-items>
        <div>
          <h3 class="inline-display">{{ item.noteType | uppercase }}</h3>

          <span *ngIf="item?.sourceLink"
            >üìç<app-media-link [link]="item.sourceLink"></app-media-link
          ></span>

          <span class="margin-left-5">üìù by Woozee </span>

          <span class="margin-left-5">
            <app-date-display [date]="item?.date"></app-date-display>
          </span>

          <app-tags-display
            class="margin-left-5"
            [tagUuids]="item?.tags"
            [content]="item?.content"
          >
          </app-tags-display>
        </div>
      </div>

      <div right-items>
        <button mat-icon-button>
          <ng-container
            *ngIf="savedNoteUuids.has(item?.uuid); else notSavedNote"
            >‚≠ê</ng-container
          >
          <ng-template #notSavedNote>‚òÜ</ng-template>
        </button>
        <button
          right-items
          mat-icon-button
          [matMenuTriggerFor]="menu"
          *ngIf="!environment.production"
        >
          <mat-icon>more_horiz</mat-icon>
        </button>

        <mat-menu #menu="matMenu">
          <button mat-menu-item *ngIf="item?.sourceLink">
            <a href="{{ item.sourceLink }}" target="_blank"> read more </a>
          </button>

          <button mat-menu-item [cdkCopyToClipboard]="item.uuid">
            Copy UUID
          </button>

          <button mat-menu-item (click)="openDialog()">Twitter</button>

          <button mat-menu-item (click)="openInstagramDialog(item)">
            Instagram
          </button>
        </mat-menu>
      </div>
    </app-title-menu>

    <div class="news-display">
      <app-card>
        <app-note-container [note]="item"></app-note-container>
      </app-card>
    </div>
  </app-card>
</div>

<!-- <button type="button" mat-button disabled>
    Load More
    <mat-icon>more_horiz</mat-icon>
  </button> -->
