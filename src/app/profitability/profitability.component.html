<div class="container">
  <div class="row sub-title">
    <div *ngIf="!hideLabel">Quarter</div>
    <div class="stats">
      <span>
        {{ stock.latestReport.year }}Q{{ stock.latestReport.quarter }}
      </span>
    </div>
  </div>

  <div class="row">
    <div *ngIf="!hideLabel">Gross Margin</div>

    <div class="stats">
      <span>
        {{ stock?.quarterGrossProfitMargin | siUnit: 2 | percent | undefined }}
      </span>
    </div>
  </div>

  <div class="row">
    <div *ngIf="!hideLabel">Operating Margin</div>

    <div class="stats">
      <span>
        {{ stock?.quarterOperatingMargin | siUnit: 2 | percent | undefined }}
      </span>
    </div>
  </div>

  <div class="row">
    <div *ngIf="!hideLabel">Gross Profit Q/Q</div>

    <div class="stats">
      <span class="gray-font" *ngIf="!compareDisplay">
        ({{ stock?.previousQuarterGrossProfit | siUnit: 2 | undefined }} ->
        {{ stock?.quarterGrossProfit | siUnit: 2 | undefined }})
      </span>

      <span>
        <span *ngIf="stock?.quarterGrossProfitGrowth > 0">+</span
        >{{ stock?.quarterGrossProfitGrowth | siUnit: 2 | percent | undefined }}
      </span>
    </div>
  </div>

  <div class="row">
    <div *ngIf="!hideLabel">Operating Expenses Q/Q</div>

    <div class="stats">
      <span class="gray-font" *ngIf="!compareDisplay">
        ({{ stock?.previousQuarterExpenses | siUnit: 2 | undefined }}
        ->
        {{ stock?.quarterExpenses | siUnit: 2 | undefined }})
      </span>

      <span>
        <span *ngIf="stock?.quarterExpensesGrowth > 0">+</span
        >{{ stock?.quarterExpensesGrowth | siUnit: 2 | percent | undefined }}
      </span>
    </div>
  </div>

  <div class="row">
    <div *ngIf="!hideLabel">Operating Expenses / Gross Profit</div>
    <div class="stats">
      <span class="gray-font" *ngIf="!compareDisplay">
        ({{ stock?.quarterExpenses | siUnit: 2 | undefined }} /
        {{ stock?.quarterGrossProfit | siUnit: 2 | undefined }})
      </span>
      <span>
        {{
          stock.quarterOperatingCostOverGrossProfit
            | siUnit: 2
            | percent
            | undefined
        }}
      </span>
    </div>
  </div>

  <ng-container
    *ngIf="stock?.latestReport?.revenueRetention && !compareDisplay"
  >
    <div class="row">
      <div *ngIf="!hideLabel">Revenue Retention</div>
      <div class="stats">
        <span>
          {{
            stock?.latestReport?.revenueRetention
              | siUnit: 2
              | percent
              | undefined
          }}
        </span>
      </div>
    </div>
  </ng-container>

  <ng-container
    *ngIf="stock?.latestReport?.salesAndMarketingCost && !compareDisplay"
  >
    <div class="row">
      <div *ngIf="!hideLabel">Sales & Marketing Cost</div>
      <div class="stats">
        <span *ngIf="stock?.latestReport?.salesAndMarketingCost">
          {{
            stock?.latestReport?.salesAndMarketingCost | siUnit: 2 | undefined
          }}
        </span>
      </div>
    </div>
  </ng-container>

  <ng-container
    *ngIf="
      stock?.latestReport?.sellingGeneralAndAdministrative && !compareDisplay
    "
  >
    <div class="row">
      <div *ngIf="!hideLabel">Selling, General and Administrative Cost</div>
      <div class="stats">
        <span>
          {{
            stock?.latestReport?.sellingGeneralAndAdministrative
              | siUnit: 2
              | undefined
          }}
        </span>
      </div>
    </div>
  </ng-container>

  <div class="row sub-title">
    <span *ngIf="!hideLabel"> Year (TTM)</span>
  </div>

  <div class="row" *ngIf="!compareDisplay">
    <div *ngIf="!hideLabel">Gross Profit Y/Y</div>
    <div class="stats">
      <span class="gray-font" *ngIf="!compareDisplay">
        ({{ stock?.previousTtmGrossProfit | siUnit: 2 | undefined }} ->
        {{ stock?.ttmGrossProfit | siUnit: 2 | undefined }})
      </span>

      <span>
        <span *ngIf="stock?.ttmGrossProfit - stock?.previousTtmGrossProfit > 0"
          >+</span
        >{{
          (stock?.ttmGrossProfit - stock?.previousTtmGrossProfit) /
            stock?.previousTtmGrossProfit
            | siUnit: 2
            | percent
            | undefined
        }}
      </span>
    </div>
  </div>

  <div class="row">
    <div *ngIf="!hideLabel">Operating Expenses / Gross Profit</div>
    <div class="stats">
      <span class="gray-font" *ngIf="!compareDisplay">
        ({{ stock?.ttmGrossProfit - stock?.ttmOI | siUnit: 2 | undefined }} /
        {{ stock?.ttmGrossProfit | siUnit: 2 | undefined }})
      </span>
      <span>
        {{
          (stock?.ttmGrossProfit - stock?.ttmOI) / stock?.ttmGrossProfit
            | siUnit: 2
            | percent
            | undefined
        }}
      </span>
    </div>
  </div>
</div>
