<ng-container *ngIf="shortVersion; else fullVersion">
  <div>
    {{ news.title }}

    <span
      class="more-button"
      *ngIf="news?.content && news.content.length > 0"
      (click)="expanded = !expanded"
      >more</span
    >
  </div>
  <div *ngIf="expanded" class="show-next-line">
    {{ news.content }}
  </div>

  <div>
    <span class="margin-right-5">
      <app-date-display [date]="news?.date"></app-date-display>
    </span>

    <app-tags-display [tags]="news?.tags"> </app-tags-display>
  </div>
</ng-container>

<ng-template #fullVersion>
  <app-title-menu>
    <h2 header-3>{{ news?.source || "News" }}</h2>

    <button
      buttons
      mat-icon-button
      [matMenuTriggerFor]="menu"
      *ngIf="!environment.production"
    >
      <mat-icon>more_horiz</mat-icon>
    </button>

    <mat-menu #menu="matMenu">
      <button mat-menu-item type="button" (click)="showDetails = !showDetails">
        More
        <mat-icon *ngIf="showDetails">expand_less</mat-icon>
        <mat-icon *ngIf="!showDetails">expand_more</mat-icon>
      </button>

      <button mat-menu-item (click)="openDialog()">Twitter</button>

      <button mat-menu-item (click)="openInstagramDialog()">Instagram</button>
    </mat-menu>
  </app-title-menu>

  <div class="square">
    <div class="news-image">
      <app-stock-image-display
        [tag]="news?.tags?.[0]"
      ></app-stock-image-display>
    </div>

    <div class="content">
      <h3>âš¡ {{ news.title }}</h3>

      <ul>
        <li *ngFor="let item of news.stats">
          <app-stats-display [statsDisplay]="item"></app-stats-display>
        </li>
      </ul>

      <app-content-display [content]="news.content"></app-content-display>

      <div>
        <span class="margin-right-5">
          <app-date-display [date]="news?.date"></app-date-display>
        </span>

        <app-tags-display [tags]="news?.tags"> </app-tags-display>
      </div>
    </div>
  </div>
</ng-template>
