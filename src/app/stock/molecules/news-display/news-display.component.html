<ng-container *ngIf="shortVersion; else fullVersion">
  <div>
    {{ news.title }}

    <span
      class="more-button"
      *ngIf="news?.content && news.content.length > 0"
      (click)="expanded = !expanded"
      >more</span
    >
  </div>
  <div *ngIf="expanded" class="show-next-line">
    {{ news.content }}
  </div>

  <div>
    <span class="margin-right-5">
      <app-date-display [date]="news?.date"></app-date-display>
    </span>

    <app-tags-display [tags]="news?.tags"> </app-tags-display>
  </div>
</ng-container>

<ng-template #fullVersion>
  <app-title-menu>
    <h2 header-3>{{ news?.source || "News" }}</h2>

    <button
      buttons
      mat-icon-button
      [matMenuTriggerFor]="menu"
      *ngIf="!environment.production"
    >
      <mat-icon>more_horiz</mat-icon>
    </button>

    <mat-menu #menu="matMenu">
      <button mat-menu-item [cdkCopyToClipboard]="news.uuid">Copy UUID</button>

      <button mat-menu-item (click)="openDialog()">Twitter</button>

      <button mat-menu-item (click)="openInstagramDialog()">Instagram</button>
    </mat-menu>
  </app-title-menu>

  <div class="square">
    <div class="news-image">
      <app-stock-image-display
        [imageLinks]="news?.imageLinks"
        [tag]="news?.tags?.[0]"
      ></app-stock-image-display>
    </div>

    <div class="content">
      <div class="h3">âš¡ {{ news.title }}</div>

      <ul>
        <li *ngFor="let item of news.stats">
          <app-stats-display [statsDisplay]="item"></app-stats-display>
        </li>
      </ul>

      <app-content-display [content]="news.content"></app-content-display>

      <div>
        <span class="margin-right-5">
          <app-date-display [date]="news?.date"></app-date-display>
        </span>

        <app-tags-display [tags]="news?.tags"> </app-tags-display>

        <span class="source-link">
          <a
            *ngIf="news?.sourceLink"
            href="{{ news.sourceLink }}"
            target="_blank"
          >
            read more
          </a>
        </span>
      </div>

      <div *ngFor="let item of news?.imageLinks?.slice(1)">
        <app-stock-image-display
          [imageLinks]="[item]"
          [tag]="news?.tags?.[0]"
        ></app-stock-image-display>
      </div>
    </div>
  </div>
</ng-template>
