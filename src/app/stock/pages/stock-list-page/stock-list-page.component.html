<div *ngIf="stockDisplays.length === 0" class="flex justify-center mt-20">
  <button mat-button routerLink="/news">Discover Stocks</button>
</div>

<div class="mt-5 tab-content" *ngFor="let item of stockDisplays; let i = index">
  <div>
    <span class="text-lg">
      {{ i + 1 }}.

      <app-tradable-display
        [tradable]="item"
        [tickerOnly]="true"
        [prices]="pricesServices.getPriceByTicker(item?.ticker) | async"
        [showPercentage]="'true'"
      ></app-tradable-display>
    </span>
    <span>
      <app-interaction-bar
        class="inline-block"
        [interactions]="item"
        [interactionKey]="item?.ticker.toLowerCase() + ':tradable'"
        [displayTop3]="true"
      ></app-interaction-bar>
    </span>
  </div>
  <div class="mt-2 flex items-center space-x-0">
    <span class="mr-2">ðŸ”–</span>
    <app-tag-list [tags]="stockUuidToTagsMap[item.ticker]"></app-tag-list>

    <ng-container
      *ngIf="stockUuidToTagsMap[item.ticker]?.length > 0; else noTag"
    >
      <button mat-icon-button [matMenuTriggerFor]="interactionMenu">
        <mat-icon>more_horiz</mat-icon>
      </button>
      <mat-menu #interactionMenu="matMenu">
        <button mat-menu-item (click)="editTag(item)">Edit Tags</button>
      </mat-menu>
    </ng-container>

    <ng-template #noTag>
      <button mat-button (click)="editTag(item)">Add Tag</button>
    </ng-template>
  </div>
</div>
