<ng-container *ngIf="stockAnalysis === null; else hasStock">
  No result is supported for now.
</ng-container>

<ng-template #hasStock>
  <div class="head-section">
    <div class="logo-image">
      <app-image-display [imageLink]="imageLinks[0]"></app-image-display>
    </div>

    <h1>
      <span
        >{{ stockAnalysis.displayName || stockAnalysis.name }}
        <span *ngIf="stockAnalysis?.ticker"
          >({{ stockAnalysis?.ticker | uppercase }})</span
        >
      </span>

      <span
        ><a
          target="_blank"
          *ngIf="stockAnalysis?.irAddress"
          title="Investor Relations"
          href="{{ stockAnalysis.irAddress }}"
        >
          ðŸ”—
        </a></span
      >

      <span *ngIf="stockAnalysis.price">
        - {{ stockAnalysis.price | undefined }}</span
      >
    </h1>

    <div>
      <mat-chip-list>
        <mat-chip *ngFor="let item of stockAnalysis?.lists">
          {{ item }}
        </mat-chip>
      </mat-chip-list>
    </div>
  </div>

  <mat-divider></mat-divider>

  <div *ngIf="products">
    <h2>Products</h2>

    <mat-chip-list>
      <mat-chip *ngFor="let item of products">
        {{ item.name }}
      </mat-chip>
    </mat-chip-list>
  </div>

  <div *ngIf="earnings">
    <h2>Earnings</h2>
  </div>

  <div class="grid grid-dynamic">
    <app-card class="grid" *ngIf="myNotes && myNotes.length > 0">
      <div class="container">
        <div class="left">My Notes</div>
        <div class="right">
          <app-opinion-display [sentiment]="mySentiment"></app-opinion-display>
        </div>
      </div>

      <div *ngFor="let note of myNotes">
        <app-note-container
          [note]="note"
          [emotion]="note?.emotion"
        ></app-note-container>
        <app-divider></app-divider>
      </div>
    </app-card>

    <app-card class="grid" *ngIf="notes && notes.length > 0">
      <div class="container">
        <div class="left">Public Notes</div>
        <div class="right">
          <app-opinion-display
            [sentiment]="publicSentiment"
          ></app-opinion-display>
        </div>
      </div>

      <div *ngFor="let note of notes">
        <app-note-container [note]="note"></app-note-container>
        <app-divider></app-divider>
      </div>
    </app-card>
  </div>
</ng-template>
