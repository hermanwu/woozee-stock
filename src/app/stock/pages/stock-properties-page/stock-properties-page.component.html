<ng-container *ngIf="stockAnalysis === null; else hasStock">
  No result is supported for now.
</ng-container>

<ng-template #hasStock>
  <div class="head-section">
    <div class="logo-image">
      <app-image-display [imageLink]="imageLinks[0]"></app-image-display>
    </div>

    <div>
      <span
        >{{ stockAnalysis.displayName || stockAnalysis.name }} ({{
          stockAnalysis?.ticker | uppercase
        }})
      </span>

      <span
        ><a
          target="_blank"
          *ngIf="stockAnalysis?.irAddress"
          title="Investor Relations"
          href="{{ stockAnalysis.irAddress }}"
        >
          ðŸ”—
        </a></span
      >

      <!-- <span *ngIf="rank$ | async; else followButton">
          - Rank {{ rank$ | async | undefined }}</span
        > -->
      <span *ngIf="stockAnalysis.price">
        - {{ stockAnalysis.price | undefined }}</span
      >
    </div>

    <div>
      <mat-chip-list>
        <mat-chip *ngFor="let item of stockAnalysis?.lists">
          {{ item }}
        </mat-chip>
      </mat-chip-list>
    </div>

    <div *ngIf="stockAnalysis?.products">
      <span>Products:</span>
      <mat-chip-list>
        <mat-chip *ngFor="let item of stockAnalysis.products">
          {{ item?.name }}
        </mat-chip>
      </mat-chip-list>
    </div>
  </div>

  <div class="grid grid-dynamic">
    <app-card class="grid">
      <div class="container">
        <div class="left">My Notes</div>
        <div class="right">
          <app-opinion-display [sentiment]="mySentiment"></app-opinion-display>
        </div>
      </div>

      <div *ngFor="let note of myNotes">
        <app-note-container [note]="note"></app-note-container>
        <app-divider></app-divider>
      </div>
    </app-card>

    <app-card class="grid">
      <div class="container">
        <div class="left">Other Notes</div>
        <div class="right">
          <app-opinion-display
            [sentiment]="publicSentiment"
          ></app-opinion-display>
        </div>
      </div>

      <div *ngFor="let note of notes">
        <app-note-container [note]="note"></app-note-container>
        <app-divider></app-divider>
      </div>
    </app-card>
  </div>
</ng-template>
